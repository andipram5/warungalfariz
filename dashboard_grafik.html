<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Grafik Real-Time</title>


<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


<button onclick="location='index.html'">â¬… Kembali</button>
</header>


<div class="container">


<div class="card">
<h4>Omset Hari Ini</h4>
<div class="stat" id="omset">Rp 0</div>
</div>


<div class="card">
<h4>Total Transaksi</h4>
<div class="stat" id="trx">0</div>
</div>


<div class="card">
<h4>Grafik Penjualan Harian</h4>
<canvas id="chartHari"></canvas>
</div>


<div class="card">
<h4>Produk Terlaris</h4>
<canvas id="chartProduk"></canvas>
</div>


</div>


<script>
const API = 'https://script.google.com/macros/s/AKfycbwzAnij0peoNwwZCisPX9JnlWAbPvGdEpdR-ELqZDRZlvxGvc0sE40d3JhOAGIcesAi/exec';


fetch(API+'?action=dashboard')
.then(r=>r.json())
.then(d=>{
omset.innerText = 'Rp '+d.omset.toLocaleString();
trx.innerText = d.trx;


new Chart(chartHari,{
type:'line',
data:{
labels:d.hari.label,
datasets:[{label:'Omset',data:d.hari.data,borderWidth:2,fill:false}]
}
});


new Chart(chartProduk,{
type:'bar',
data:{
labels:d.produk.label,
datasets:[{label:'Qty Terjual',data:d.produk.data,borderWidth:1}]
}
});
});
</script>


</body>
</html>
